{"ast":null,"code":"import { ref, onMounted, onBeforeUnmount } from 'vue';\nexport default {\n  __name: 'FooterComponent',\n  props: {\n    links: {\n      type: Array,\n      default: () => []\n    },\n    triggerSelector: {\n      type: String,\n      default: '.hero'\n    },\n    offsetTopPx: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const atTop = ref(false);\n    const navEl = ref(null);\n    let observer = null;\n    let ro = null;\n    function setSpaceVar() {\n      if (!navEl.value) return;\n      const h = navEl.value.offsetHeight || 0;\n      // + safe-area inset for iOS\n      const css = `calc(${h}px + env(safe-area-inset-bottom))`;\n      document.documentElement.style.setProperty('--nav-space', css);\n    }\n    onMounted(() => {\n      // Observe the hero (or fallback to scroll)\n      const trigger = document.querySelector(props.triggerSelector);\n      if (!trigger) {\n        const onScroll = () => atTop.value = window.scrollY > 10;\n        onScroll();\n        window.addEventListener('scroll', onScroll, {\n          passive: true\n        });\n        observer = {\n          disconnect: () => window.removeEventListener('scroll', onScroll)\n        };\n      } else {\n        observer = new IntersectionObserver(entries => {\n          atTop.value = !entries[0].isIntersecting;\n        }, {\n          root: null,\n          threshold: 0,\n          rootMargin: `-${props.offsetTopPx}px 0px 0px 0px`\n        });\n        observer.observe(trigger);\n      }\n\n      // Keep --nav-space up to date\n      setSpaceVar();\n      window.addEventListener('resize', setSpaceVar);\n      // Optional: watch for content/ font changes\n      ro = new ResizeObserver(setSpaceVar);\n      ro.observe(navEl.value);\n    });\n    onBeforeUnmount(() => {\n      observer?.disconnect?.();\n      window.removeEventListener('resize', setSpaceVar);\n      ro?.disconnect?.();\n    });\n    const __returned__ = {\n      props,\n      atTop,\n      navEl,\n      get observer() {\n        return observer;\n      },\n      set observer(v) {\n        observer = v;\n      },\n      get ro() {\n        return ro;\n      },\n      set ro(v) {\n        ro = v;\n      },\n      setSpaceVar,\n      ref,\n      onMounted,\n      onBeforeUnmount\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onBeforeUnmount","props","__props","atTop","navEl","observer","ro","setSpaceVar","value","h","offsetHeight","css","document","documentElement","style","setProperty","trigger","querySelector","triggerSelector","onScroll","window","scrollY","addEventListener","passive","disconnect","removeEventListener","IntersectionObserver","entries","isIntersecting","root","threshold","rootMargin","offsetTopPx","observe","ResizeObserver"],"sources":["/Users/lucasteindorf/Documents/Programmierung/WebDev/web-template/src/components/FooterComponent.vue"],"sourcesContent":["<script setup>\nimport { ref, onMounted, onBeforeUnmount } from 'vue'\n\nconst props = defineProps({\n  links: { type: Array, default: () => ([]) },\n  triggerSelector: { type: String, default: '.hero' },\n  offsetTopPx: { type: Number, default: 0 },\n})\n\nconst atTop = ref(false)\nconst navEl = ref(null)\nlet observer = null\nlet ro = null\n\nfunction setSpaceVar() {\n  if (!navEl.value) return\n  const h = navEl.value.offsetHeight || 0\n  // + safe-area inset for iOS\n  const css = `calc(${h}px + env(safe-area-inset-bottom))`\n  document.documentElement.style.setProperty('--nav-space', css)\n}\n\nonMounted(() => {\n  // Observe the hero (or fallback to scroll)\n  const trigger = document.querySelector(props.triggerSelector)\n  if (!trigger) {\n    const onScroll = () => (atTop.value = window.scrollY > 10)\n    onScroll()\n    window.addEventListener('scroll', onScroll, { passive: true })\n    observer = { disconnect: () => window.removeEventListener('scroll', onScroll) }\n  } else {\n    observer = new IntersectionObserver(\n      (entries) => { atTop.value = !entries[0].isIntersecting },\n      { root: null, threshold: 0, rootMargin: `-${props.offsetTopPx}px 0px 0px 0px` }\n    )\n    observer.observe(trigger)\n  }\n\n  // Keep --nav-space up to date\n  setSpaceVar()\n  window.addEventListener('resize', setSpaceVar)\n  // Optional: watch for content/ font changes\n  ro = new ResizeObserver(setSpaceVar)\n  ro.observe(navEl.value)\n})\n\nonBeforeUnmount(() => {\n  observer?.disconnect?.()\n  window.removeEventListener('resize', setSpaceVar)\n  ro?.disconnect?.()\n})\n</script>\n\n<template>\n  <nav ref=\"navEl\" class=\"nav-strip\" :class=\"{ atTop }\" aria-label=\"Main navigation\">\n    <ul>\n      <li v-for=\"(item, i) in links\" :key=\"i\"><a :href=\"item.href\">{{ item.label }}</a></li>\n      <slot />\n    </ul>\n  </nav>\n</template>\n"],"mappings":"AACA,SAASA,GAAG,EAAEC,SAAS,EAAEC,eAAe,QAAQ,KAAI;;;;;;;;;;;;;;;;;;;;;IAEpD,MAAMC,KAAK,GAAGC,OAAA;IAMd,MAAMC,KAAK,GAAGL,GAAG,CAAC,KAAK;IACvB,MAAMM,KAAK,GAAGN,GAAG,CAAC,IAAI;IACtB,IAAIO,QAAQ,GAAG,IAAG;IAClB,IAAIC,EAAE,GAAG,IAAG;IAEZ,SAASC,WAAWA,CAAA,EAAG;MACrB,IAAI,CAACH,KAAK,CAACI,KAAK,EAAE;MAClB,MAAMC,CAAC,GAAGL,KAAK,CAACI,KAAK,CAACE,YAAY,IAAI;MACtC;MACA,MAAMC,GAAG,GAAG,QAAQF,CAAC,mCAAkC;MACvDG,QAAQ,CAACC,eAAe,CAACC,KAAK,CAACC,WAAW,CAAC,aAAa,EAAEJ,GAAG;IAC/D;IAEAZ,SAAS,CAAC,MAAM;MACd;MACA,MAAMiB,OAAO,GAAGJ,QAAQ,CAACK,aAAa,CAAChB,KAAK,CAACiB,eAAe;MAC5D,IAAI,CAACF,OAAO,EAAE;QACZ,MAAMG,QAAQ,GAAGA,CAAA,KAAOhB,KAAK,CAACK,KAAK,GAAGY,MAAM,CAACC,OAAO,GAAG,EAAE;QACzDF,QAAQ,CAAC;QACTC,MAAM,CAACE,gBAAgB,CAAC,QAAQ,EAAEH,QAAQ,EAAE;UAAEI,OAAO,EAAE;QAAK,CAAC;QAC7DlB,QAAQ,GAAG;UAAEmB,UAAU,EAAEA,CAAA,KAAMJ,MAAM,CAACK,mBAAmB,CAAC,QAAQ,EAAEN,QAAQ;QAAE;MAChF,CAAC,MAAM;QACLd,QAAQ,GAAG,IAAIqB,oBAAoB,CAChCC,OAAO,IAAK;UAAExB,KAAK,CAACK,KAAK,GAAG,CAACmB,OAAO,CAAC,CAAC,CAAC,CAACC,cAAc;QAAC,CAAC,EACzD;UAAEC,IAAI,EAAE,IAAI;UAAEC,SAAS,EAAE,CAAC;UAAEC,UAAU,EAAE,IAAI9B,KAAK,CAAC+B,WAAW;QAAiB,CAChF;QACA3B,QAAQ,CAAC4B,OAAO,CAACjB,OAAO;MAC1B;;MAEA;MACAT,WAAW,CAAC;MACZa,MAAM,CAACE,gBAAgB,CAAC,QAAQ,EAAEf,WAAW;MAC7C;MACAD,EAAE,GAAG,IAAI4B,cAAc,CAAC3B,WAAW;MACnCD,EAAE,CAAC2B,OAAO,CAAC7B,KAAK,CAACI,KAAK;IACxB,CAAC;IAEDR,eAAe,CAAC,MAAM;MACpBK,QAAQ,EAAEmB,UAAU,GAAG;MACvBJ,MAAM,CAACK,mBAAmB,CAAC,QAAQ,EAAElB,WAAW;MAChDD,EAAE,EAAEkB,UAAU,GAAG;IACnB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}